---
const { dateUpdated } = Astro.props;
const { pathname } = Astro.url;
const isHome = pathname === "/";

const updatedDate = dateUpdated ? new Date(dateUpdated) : null;
const updatedDateTime =
  updatedDate && !Number.isNaN(updatedDate.getTime())
    ? updatedDate.toISOString()
    : undefined;
---

<footer
  class="mt-auto grid grid-cols-main content-start gap-5 bg-background pb-5 text-secondary"
>
  <hr />
  <div class="contents">
    {
      !isHome && (
        <div class="col-[head]">
          <a class="no-underline" href="/">
            &larr;Home
          </a>
        </div>
      )
    }

    {
      dateUpdated && (
        <span class="col-[aside]">
          Updated:{" "}
          {updatedDate && (
            <time datetime={updatedDateTime}>
              {updatedDate.toLocaleDateString("en-US", {
                year: "numeric",
                month: "short",
                day: "numeric",
              })}
            </time>
          )}
        </span>
      )
    }
  </div>
</footer>
